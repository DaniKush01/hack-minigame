<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hacking PIN ‚Äì Log Analysis</title>
<style>
  body{
    margin:0; background:#020617; color:#22c55e; font-family:monospace;
    display:flex; align-items:center; justify-content:center; min-height:100vh;
  }
  .phone{
    width:380px; max-width:95vw; border:2px solid #22c55e; border-radius:20px;
    padding:14px; background:#020617; box-shadow:0 0 25px rgba(34,197,94,.25);
  }
  h1{ font-size:1.1rem; text-align:center; margin:6px 0 10px; }
  .log{ border:1px solid #14532d; padding:8px; font-size:.85rem; margin-bottom:8px; }
  .keypad{ display:grid; grid-template-columns:repeat(3,1fr); gap:6px; margin:10px 0; }
  .key{ border:1px solid #14532d; padding:10px 0; text-align:center; cursor:pointer; }
  .display{ border:1px solid #14532d; padding:6px; text-align:center; letter-spacing:4px; }
  .btn{ border:1px solid #14532d; background:#020617; color:#22c55e; padding:6px 10px; cursor:pointer; margin:4px 2px; }
  .hidden{ display:none; }
  .chat{ border:1px solid #14532d; padding:8px; margin:6px 0; cursor:pointer; }
  .chat strong{ color:#38bdf8; }
  .msg{ border-top:1px solid #14532d; margin-top:8px; padding-top:8px; font-size:.9rem; }
  .bubble{ margin:4px 0; padding:6px 8px; border:1px solid #14532d; border-radius:6px; }
  .me{ text-align:right; opacity:.85; }
</style>
</head>
<body>

<div class="phone">
  <h1 id="title">Log intercettati ‚Äì Tastierino banca</h1>

  <!-- Step 1: Puzzle -->
  <div id="puzzle">
    <div class="log">
      Tentativo 1: 7 4 1 8 ‚Üí 1 cifra corretta, posizione corretta<br>
      Tentativo 2: 9 3 4 6 ‚Üí 2 cifre corrette, 1 in posizione corretta<br>
      Tentativo 3: 3 9 2 7 ‚Üí 4 cifre corrette, posizione sbagliata<br>
      Tentativo 4: 0 9 1 2 ‚Üí 2 cifre corrette, 1 in posizione corretta
    </div>

    <div class="display" id="display">____</div>

    <div class="keypad">
      <div class="key" onclick="press(1)">1</div>
      <div class="key" onclick="press(2)">2</div>
      <div class="key" onclick="press(3)">3</div>
      <div class="key" onclick="press(4)">4</div>
      <div class="key" onclick="press(5)">5</div>
      <div class="key" onclick="press(6)">6</div>
      <div class="key" onclick="press(7)">7</div>
      <div class="key" onclick="press(8)">8</div>
      <div class="key" onclick="press(9)">9</div>
      <div></div>
      <div class="key" onclick="press(0)">0</div>
      <div></div>
    </div>

    <button class="btn" onclick="clearPin()">Cancella</button>
    <button class="btn" onclick="checkPin()">Invia</button>

    <div class="log" id="feedback"></div>
  </div>

  <!-- Step 2: Messaggi -->
  <div id="messages" class="hidden">
    <h1>Messaggi</h1>

    <div class="chat" onclick="openChat('collega')">
      <strong>Luca (collega)</strong><br><small>Hai visto il turno di domani?</small>
    </div>

    <div class="chat" onclick="openChat('gruppo')">
      <strong>Gruppo lavoro</strong><br><small>Riunione spostata alle 15</small>
    </div>

    <div class="chat" onclick="openChat('it')">
      <strong>Supporto IT</strong><br><small>Aggiornamento sicurezza</small>
    </div>

    <div class="chat" onclick="openChat('banca')">
      <strong>Banca Centrale</strong><br><small>Notifica automatica</small>
    </div>

    <div class="chat" onclick="openChat('mamma')">
      <strong>Mamma</strong><br><small>Ricordati di comprare il pane</small>
    </div>

    <div id="chatView" class="msg hidden"></div>
  </div>
</div>

<script>
  const PIN = "7392";
  let input = "";

  function press(n){
    if(input.length >= 4) return;
    input += n;
    document.getElementById("display").innerText = input.padEnd(4, "_");
  }

  function clearPin(){
    input = "";
    document.getElementById("display").innerText = "____";
    document.getElementById("feedback").innerText = "";
  }

  function checkPin(){
    if(input.length < 4) return;
    if(input === PIN){
      document.getElementById("feedback").innerText = "> PIN corretto. Dispositivo sbloccato.";
      setTimeout(()=>{
        document.getElementById("puzzle").classList.add("hidden");
        document.getElementById("messages").classList.remove("hidden");
        document.getElementById("title").innerText = "Telefono compromesso";
      },800);
    } else {
      document.getElementById("feedback").innerText = "> PIN errato. Riprova.";
      input = "";
      document.getElementById("display").innerText = "____";
    }
  }

  function openChat(id){
    const v = document.getElementById("chatView");
    v.classList.remove("hidden");

    const chats = {
      collega: `
        <strong>Luca</strong>
        <div class="bubble">Oh, domani riesci a coprirmi il turno?</div>
        <div class="bubble me">Non so, devo chiedere al capo.</div>
        <div class="bubble">Fammi sapere entro stasera üôè</div>
      `,
      gruppo: `
        <strong>Gruppo lavoro</strong>
        <div class="bubble">Riunione spostata alle 15:00.</div>
        <div class="bubble">Portate il report aggiornato.</div>
        <div class="bubble me">Ok, ricevuto.</div>
      `,
      it: `
        <strong>Supporto IT</strong>
        <div class="bubble">Stiamo forzando l‚Äôupdate di sicurezza sui telefoni aziendali.</div>
        <div class="bubble">Se noti rallentamenti √® normale.</div>
        <div class="bubble me">Chiaro, grazie.</div>
      `,
      banca: `
        <strong>Banca Centrale</strong>
        <div class="bubble">Notifica automatica: aggiornamento credenziali.</div>
        <div class="bubble">Codice tastierino di oggi:</div>
        <div class="bubble" style="font-size:1.2rem; color:#38bdf8;">7392</div>
      `,
      mamma: `
        <strong>Mamma</strong>
        <div class="bubble">Hai preso il pane?</div>
        <div class="bubble me">Me ne sono dimenticato üòÖ</div>
        <div class="bubble">Allora passa tornando a casa.</div>
      `
    };

    v.innerHTML = chats[id] || "Conversazione non disponibile.";
  }
</script>

</body>
</html>
